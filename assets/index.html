<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docker Container List</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #dddddd;
        }
    </style>
</head>
<body>
    <h2>Docker Container List</h2>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Status</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="containerList">
        </tbody>
    </table>

    <script>
        // Assuming the data is in JSON format and stored in a variable called 'data'

        const containerList = document.getElementById('containerList');

        fetch("/docker/containers")
          .then(res => res.json())
          .then(data => {
            console.log(data)
            data.forEach(container => {
                const row = document.createElement('tr');

                const nameCell = document.createElement('td');
                nameCell.textContent = container.name;
                row.appendChild(nameCell);

                const statusCell = document.createElement('td');
                statusCell.textContent = container.status;
                row.appendChild(statusCell);

                const actionCell = document.createElement('td');
                const stopButton = document.createElement('button')
                if(container.status === "running") {
                  stopButton.textContent = "Stop container"
                  stopButton.addEventListener("click", () => console.log("Stop"))
                }
                else {
                  stopButton.textContent = "Start container"
                  stopButton.addEventListener("click", () => console.log("Start"))
                }
                actionCell.appendChild(stopButton)
                row.appendChild(actionCell);

                containerList.appendChild(row);
            });
          })
    </script>
</body>
</html>